(function(e){function t(t){for(var n,o,i=t[0],c=t[1],m=t[2],l=0,d=[];l<i.length;l++)o=i[l],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(d.length)d.shift()();return a.push.apply(a,m||[]),s()}function s(){for(var e,t=0;t<a.length;t++){for(var s=a[t],n=!0,i=1;i<s.length;i++){var c=s[i];0!==r[c]&&(n=!1)}n&&(a.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},r={app:0},a=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/gp-tweets/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var m=0;m<i.length;m++)t(i[m]);var u=c;a.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"2ebb":function(e,t,s){"use strict";s("623e")},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var n=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("main",{attrs:{id:"app"}},[s("div",{staticClass:"switch-theme"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.themeMode,expression:"themeMode"}],staticClass:"switch-theme__input",attrs:{type:"checkbox",id:"switch-theme"},domProps:{checked:Array.isArray(e.themeMode)?e._i(e.themeMode,null)>-1:e.themeMode},on:{change:function(t){var s=e.themeMode,n=t.target,r=!!n.checked;if(Array.isArray(s)){var a=null,o=e._i(s,a);n.checked?o<0&&(e.themeMode=s.concat([a])):o>-1&&(e.themeMode=s.slice(0,o).concat(s.slice(o+1)))}else e.themeMode=r}}}),e._m(0)]),s("button",{staticClass:"storage-clear",on:{click:e.localStorageClear}},[e._v("ÐžÑ‡Ð¸ÑÑ‚Ð¸Ñ‚ÑŒ localStorage")]),s("div",{staticClass:"container"},[s("label",{staticClass:"theme-toggle"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.themeMode,expression:"themeMode"}],attrs:{type:"checkbox",hidden:""},domProps:{checked:Array.isArray(e.themeMode)?e._i(e.themeMode,null)>-1:e.themeMode},on:{change:function(t){var s=e.themeMode,n=t.target,r=!!n.checked;if(Array.isArray(s)){var a=null,o=e._i(s,a);n.checked?o<0&&(e.themeMode=s.concat([a])):o>-1&&(e.themeMode=s.slice(0,o).concat(s.slice(o+1)))}else e.themeMode=r}}}),s("span")]),s("div",{staticClass:"tweets-wrap"},[s("Tweets"),s("TweetsTop")],1)])])},a=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("label",{staticClass:"switch-theme__label",attrs:{for:"switch-theme"}},[s("span",{staticClass:"switch-theme__indicator"})])}],o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tweets"},[s("div",{staticClass:"tweets__form"},[s("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.createTweet(t)}}},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],ref:"textarea",staticClass:"form__field",style:e.textareaHeight,attrs:{name:"message",placeholder:"Ð§Ñ‚Ð¾ Ð½Ð¾Ð²Ð¾Ð³Ð¾?"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),s("button",{staticClass:"form__btn",attrs:{type:"submit",disabled:e.isDisabled}},[e._v("ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ")])])]),s("div",{staticClass:"tweets__list"},e._l(e.tweetList,(function(e,t){return s("Tweet",{key:t,attrs:{tweet:e}})})),1)])},i=[],c=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"tweet",attrs:{"data-id":e.tweet.id,"data-quantComments":e.tweet.quantComments,"data-userId":e.tweet.userId}},[s("div",{staticClass:"tweet__content"},[s("div",{staticClass:"tweet__author"},[s("User",{attrs:{user:e.tweet.user}})],1),s("div",{staticClass:"tweet__body"},[s("div",{staticClass:"tweet__date"},[e._v(e._s(new Date(e.tweet.created).toLocaleDateString()))]),s("div",{staticClass:"tweet__text"},[e._v(" "+e._s(e.messageEdit.text)+" ")]),e.messageEdit.images?s("div",{staticClass:"tweet__img"},[s("img",{attrs:{src:e.messageEdit.images[0],alt:""}})]):e._e()])]),e.commentList.length?s("div",{staticClass:"tweet__comments"},e._l(e.commentList,(function(e,t){return s("Comment",{key:t,attrs:{comment:e}})})),1):e._e()])},m=[],u=(s("a9e3"),s("4de4"),s("fb6a"),function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comment"},[s("div",{staticClass:"comment__author"},[s("User",{attrs:{user:e.comment.user}})],1),s("div",{staticClass:"comment__body"},[s("div",{staticClass:"comment__text"},[e._v(" "+e._s(e.comment.text)),s("br")])])])}),l=[],d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"user"},[s("div",{staticClass:"user__avatar",style:e.avatarBackground,attrs:{"data-tooltip":e.user.name}})])},h=[],f={name:"User",props:{user:Object},computed:{avatarBackground:function(){return this.user&&this.user.avatar?{backgroundImage:"url('".concat(this.user.avatar,"')")}:{backgroundImage:"url(./assets/logo.png)"}}}},p=f,g=(s("af81"),s("2877")),w=Object(g["a"])(p,d,h,!1,null,"423a56ad",null),v=w.exports,_={name:"Comment",props:{comment:Object},components:{User:v}},b=_,C=(s("b675"),Object(g["a"])(b,u,l,!1,null,"87963c60",null)),y=C.exports,M={name:"Tweet",props:{tweet:Object,timer:Number},data:function(){return{}},components:{Comment:y,User:v},computed:{messageEdit:function(){return this.$helpers.findUrlImgString(this.tweet.text)},commentList:function(){var e=this,t=this.$store.getters.getComments,s=t.filter((function(t){if(t.tweetId===e.tweet.id)return t}));return s.slice(0,3)}},mounted:function(){this.$store.dispatch("fetchCommentsFromLocal")},methods:{}},T=M,S=(s("671e"),Object(g["a"])(T,c,m,!1,null,"3e84b464",null)),x=S.exports,O={name:"Tweets",components:{Tweet:x},data:function(){return{message:null,timer:null,inputHeight:"0"}},mounted:function(){this.$store.dispatch("fetchTweetsFromLocal")},computed:{messageEdit:function(){return this.$helpers.findUrlImgString(this.message)},tweetList:function(){return this.$store.getters.getTweets},isDisabled:function(){return!1===/\S/.test(this.message)||!this.message},textareaHeight:function(){return{"min-height":this.inputHeight}}},methods:{createTweet:function(){if(null!==this.message){var e=this.$helpers.randomNumber(),t=this.$helpers.randomNumber(),s={text:this.message,quantComments:0,created:Date.now(),userId:t,user:this.randomUserGenerate(e),id:e};this.$store.dispatch("addTweet",s),this.message=null,this.createComment(this.$helpers.randomNumber(10),e),this.createUser(t,e)}},createComment:function(e,t){var s,n=this,r=0;function a(){if(r===e)return!1;n.timer=n.$helpers.randomMS(5,30),n.$store.dispatch("addComment",n.randomCommentGenerate(t)),r++,s&&clearTimeout(s),s=setTimeout(a,n.timer)}var o=a.bind(n);setTimeout(o,this.$helpers.randomMS(5,30))},randomCommentGenerate:function(e){var t=["Lorem ipsum dolor sit amet.","Lorem ipsum dolor sit amet consectetur adipisicing elit. Nam quod nostrum officiis voluptates eligendi delectus incidunt.","Lorem ipsum dolor sit amet consectetur adipisicing elit.","Lorem, ipsum dolor.","Lorem ipsum dolor sit, amet consectetur adipisicing elit. Laboriosam eligendi veritatis incidunt quod."];return{text:t[Math.floor(Math.random()*t.length)],user:this.randomUserGenerate(e),tweetId:e,userId:this.$helpers.randomNumber(300),id:this.$helpers.randomNumber(300)}},randomUserGenerate:function(e){var t=["Kate","Jasper","Alexander","Jacob","Ashley","Brian","Carl","Derek","Jason"];return{name:t[Math.floor(Math.random()*t.length)],avatar:"https://i.pravatar.cc/64",tweetId:e,commentId:this.$helpers.randomNumber(300),id:this.$helpers.randomNumber(300)}},createUser:function(e,t){this.$store.dispatch("addUser",this.randomUserGenerate(t))},autoHeightTextArea:function(){this.inputHeight=this.message?"".concat(this.$refs.textarea.scrollHeight,"px"):"auto"}},watch:{message:function(){this.autoHeightTextArea()}}},$=O,L=(s("5beb"),Object(g["a"])($,o,i,!1,null,"2f03ff2c",null)),N=L.exports,I=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.tweetList.length?s("div",{staticClass:"tweets-top"},[s("div",{staticClass:"tweets-top__title"},[e._v("ðŸ”¥ Ð¡Ð°Ð¼Ð¾Ðµ Ð³Ð¾Ñ€ÑÑ‡ÐµÐµ!")]),s("transition-group",{staticClass:"tweets-top__list",attrs:{name:"flip-list",tag:"ul"}},e._l(e.tweetList,(function(t){return s("li",{key:t.id,staticClass:"tweets-top__item"},[s("span",[e._v(e._s(t.quantComments))]),e._v(" "+e._s(t.text.substr(0,60))+"... ")])})),0)],1):e._e()},k=[],j=(s("b680"),{name:"Comment",props:{},data:function(){return{}},computed:{tweetList:function(){var e=this,t=this.$store.getters.getTweets,s=JSON.parse(JSON.stringify(t));return s.sort((function(t,s){var n=e.$helpers.diffDaysTime(new Date(t.created),new Date)+t.quantComments,r=e.$helpers.diffDaysTime(new Date(s.created),new Date)+s.quantComments;return(r-n).toFixed(4)}))}}}),U=j,J=(s("2ebb"),Object(g["a"])(U,I,k,!1,null,"4dce9c2d",null)),D=J.exports,A={name:"App",components:{Tweets:N,TweetsTop:D},data:function(){return{themeMode:JSON.parse(localStorage.getItem("themeMode"))||!1}},mounted:function(){this.themeMode&&document.body.classList.toggle("theme-dark")},methods:{localStorageClear:function(){localStorage.clear()}},watch:{themeMode:function(){localStorage.setItem("themeMode",JSON.stringify(this.themeMode)),console.log("Night Mode: "+JSON.stringify(this.themeMode)),document.body.classList.toggle("theme-dark")}}},E=A,q=(s("5c0b"),Object(g["a"])(E,r,a,!1,null,null,null)),P=q.exports,F=s("2f62"),H=(s("7db0"),{state:{tweets:[]},getters:{getTweets:function(e){return e.tweets}},mutations:{setTweet:function(e,t){e.tweets.unshift(t)},setTweetsToLocal:function(e){localStorage.setItem("tweets",JSON.stringify(e.tweets))},loadTweetsFromLocal:function(e,t){e.tweets=t},setCountComments:function(e,t){var s=e.tweets.find((function(e){return e.id===t.tweetId}));s.quantComments=++s.quantComments,localStorage.setItem("tweets",JSON.stringify(e.tweets))}},actions:{fetchTweetsFromLocal:function(e,t){var s=e.commit;localStorage.getItem("tweets")&&s("loadTweetsFromLocal",JSON.parse(localStorage.getItem("tweets")))},addTweet:function(e,t){var s=e.commit;s("setTweet",t),s("setTweetsToLocal")}}}),G={state:{comments:[]},getters:{getComments:function(e){return e.comments}},mutations:{setComment:function(e,t){e.comments.unshift(t)},setCommentsToLocal:function(e){localStorage.setItem("comments",JSON.stringify(e.comments))},loadCommentsFromLocal:function(e,t){e.comments=t}},actions:{fetchCommentsFromLocal:function(e,t){var s=e.commit;localStorage.getItem("comments")&&s("loadCommentsFromLocal",JSON.parse(localStorage.getItem("comments")))},addComment:function(e,t){var s=e.commit;s("setComment",t),s("setCommentsToLocal"),s("setCountComments",t,{root:!0})}}},B={state:{users:[]},getters:{getUsers:function(e){return e.users}},mutations:{setUser:function(e,t){e.users.push(t),localStorage.setItem("users",JSON.stringify(e.users))}},actions:{addUser:function(e,t){var s=e.commit;s("setUser",t)}}};n["a"].use(F["a"]);var K=new F["a"].Store({modules:{tweetModule:H,commentModule:G,userModule:B}}),z=(s("466d"),s("ac1f"),s("5319"),{foo:function(){return"foo"},randomNumber:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100;return Math.floor(Math.random()*e)+1},randomMS:function(e,t){var s=Math.random()*(t-e)+e;return 1e3*Math.floor(s)},diffDaysTime:function(e,t){return(t.getTime()-e.getTime())/864e5},findUrlImgString:function(e){if(!e)return!1;var t=/\b(https?:\/\/\S+(?:png|jpe?g|webp|gif)\S*)\b/gim,s=e.match(t),n=e.replace(t,"");return{images:s||null,text:n||null}}});n["a"].config.productionTip=!1,n["a"].use({install:function(){n["a"].helpers=z,n["a"].prototype.$helpers=z}}),new n["a"]({store:K,render:function(e){return e(P)}}).$mount("#app")},"5beb":function(e,t,s){"use strict";s("d053")},"5c0b":function(e,t,s){"use strict";s("9c0c")},"623e":function(e,t,s){},"671e":function(e,t,s){"use strict";s("d5ed")},"7c04":function(e,t,s){},"9c0c":function(e,t,s){},af81:function(e,t,s){"use strict";s("7c04")},b675:function(e,t,s){"use strict";s("bde6")},bde6:function(e,t,s){},d053:function(e,t,s){},d5ed:function(e,t,s){}});
//# sourceMappingURL=app.b7d77848.js.map